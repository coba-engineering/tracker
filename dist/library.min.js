!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).myLibraryName=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},module.exports.default=module.exports,module.exports.__esModule=!0},{}],2:[function(require,module,exports){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.default=module.exports,module.exports.__esModule=!0},{}],3:[function(require,module,exports){"use strict";var _defineProperty2=require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/defineProperty"));function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}var SUPABASE_HOST="https://yjjqcbwwpdxdbnyhbwme.supabase.co/rest/v1/";function supabase(endpoint,body){return fetch(SUPABASE_HOST+endpoint,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjk4Mjg1OCwiZXhwIjoxOTQ4NTU4ODU4fQ.uclyC8mUUCjXai6nlEyZAwDit1A0cDiqLrJCCChHsXI",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjk4Mjg1OCwiZXhwIjoxOTQ4NTU4ODU4fQ.uclyC8mUUCjXai6nlEyZAwDit1A0cDiqLrJCCChHsXI"},body:JSON.stringify(body)})}function normalize(url){return url=(url=url.startsWith("www.")?url.slice(4):url).endsWith("/")?url.slice(0,-1):url}var url=normalize(location.hostname+location.pathname);function init(ip){function track(action,event){event=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({url:url,ip:ip,action:action,timestamp:(new Date).toJSON()},event);console.log("tracking",event),supabase("events",[event])}function addConversionListener(_ref){var type=_ref.type,trigger=_ref.trigger;switch(type){case"click":Array.from(document.getElementsByClassName(trigger)).forEach(function(e){e.addEventListener("click",function(){return track("click")},{once:!0})});break;case"view":normalize(trigger)===url&&track("view")}}setTimeout(function(){return track("view",{is_conversion:!1})},3e3),supabase("rpc/get_experiments",{url:url}).then(function(experiments){return experiments.forEach(addConversionListener)})}fetch("https://api.ipify.org").then(function(r){return r.text()}).then(init)},{"@babel/runtime/helpers/defineProperty":1,"@babel/runtime/helpers/interopRequireDefault":2}]},{},[3])(3)});